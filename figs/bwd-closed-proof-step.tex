% \NextHarpoonProofCont
\tightlistings
\centering

\newcommand{\cwidthOne}{0.33\textwidth}
\newcommand{\cwidthTwo}{0.33\textwidth}
\newcommand{\cwidthThree}{0.34\textwidth}

\newenvironment{eventable}{%
  \begin{tabular}{p{\cwidthOne}|p{\cwidthTwo}|p{\cwidthThree}}%
    }{%
  \end{tabular}
}


% \begin{tabular}{p{6.5cm}|@{~~}p{8cm}}
%   \step{bwd:arr-invert} & \step{bwd:arr-by-lemma}
%   \tabularnewline

%   \begin{lstlisting}

\begin{tabular}{p{6.4cm}|@{~}p{8cm}}
\step{bwd:halt} & \step{bwd:final}
 \tabularnewline

  \begin{lstlisting}
Meta-context:
  T1 : (|-tp)
  T2 : (|-tp)
  M  : (|-tm (arr T1 T2))
  M' : (|-tm (arr T1 T2))

Computational context:
  s  : [|-step M M']
  rn : {N : ( |-tm T)} Reduce [|-N][|-T]
   -> Reduce [|-T2] [|-app M' N]
  h' : [|-halts M']
  r  : Reduce [|-arr T1 T2][|-M']
$~$
\end{lstlisting}
\linewidthline
\begin{lstlisting}
[|-halts M]
> by halts_step s h'  as h
  \end{lstlisting}

&

\begin{lstlisting}
Meta-context:
  T1 : (|-tp)
  T2 : (|-tp)
  M  : (|-tm (arr T1 T2))
  M' : (|-tm (arr T1 T2))
  N  : (|-tm T1)
Computational context:
  s  : [|-step M M']
  rn : {N : ( |-tm T)} Reduce [|-N][|-T]
    -> Reduce [|-T2] [|-app M' N]
  h' : [|-halts M']
  r  : Reduce [|-arr T1 T2][|-M']
  r1 : Reduce [|-T1] [|- N]
\end{lstlisting}
\linewidthline
\begin{lstlisting}
Reduce [|-T2] [|-app M N]
>  by (rn [|-N] r1) as r';
   unbox s as S; by [|-s_app S] as s';
   by (bwd_closed [|-T2] _ _ s' r')
   as ih
\end{lstlisting}
\end{tabular}


\caption{Backwards closed lemma: Step Case -- continued}

\label{fig:bwd-closed-harpoon-step}

%%% Local Variables:
%%% TeX-master: "../main.tex"
%%% End:
